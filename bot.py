import logging
from telegram import Update, ReplyKeyboardMarkup, KeyboardButton
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes, ConversationHandler

logging.basicConfig(level=logging.INFO)

QUESTIONS = [
    {
        "text": "1Ô∏è‚É£ –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –≤ –Ω–æ–≤–æ–º –≥–æ—Ä–æ–¥–µ. –ß—Ç–æ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –≤—Å–µ–≥–æ?",
        "options": [
            ("–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞", "space"),
            ("–ú–∞–≥–∞–∑–∏–Ω—ã —Å –Ω–µ–æ–±—ã—á–Ω—ã–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º", "branding"),
            ("–®–æ—É—Ä—É–º—ã –∏ –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ –∞—Ç–µ–ª—å–µ", "fashion"),
            ("–ê—Ä—Ç-–∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏ –∏ —Ä–µ–∫–ª–∞–º–∞", "illustration"),
            ("–ú—É–∑—ã–∫–∞ –∏ –∑–≤—É–∫–∏ —É–ª–∏—Ü", "sound"),
            ("–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞", "digital")
        ]
    },
    {
        "text": "2Ô∏è‚É£ –° —á–µ–≥–æ –≤—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç?",
        "options": [
            ("–ò—â—É –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ", "art_direct"),
            ("–ò–∑—É—á–∞—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É", "info"),
            ("–°—Ç—Ä–æ—é —Å—Ö–µ–º—É, —Å—Ç—Ä—É–∫—Ç—É—Ä—É", "ux"),
            ("–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑", "illustration"),
            ("–û–±—â–∞—é—Å—å —Å –ª—é–¥—å–º–∏, –ø–æ–Ω–∏–º–∞—é –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏", "interior"),
            ("–î–µ–ª–∞—é —á–µ—Ä–Ω–æ–≤–æ–π –ø—Ä–æ—Ç–æ—Ç–∏–ø", "3d")
        ]
    },
    {
        "text": "3Ô∏è‚É£ –ß—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –≤–∞–º –±–ª–∏–∂–µ –≤—Å–µ–≥–æ?",
        "options": [
            ("–ß–µ—Ä—á–µ–Ω–∏–µ –∏ —Ç–µ—Ö–Ω–∏–∫–∞", "product"),
            ("–ò—Å—Ç–æ—Ä–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∫—É–ª—å—Ç—É—Ä—ã", "illustration"),
            ("–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π", "branding"),
            ("–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ 3D", "3d"),
            ("–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π", "ux"),
            ("–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏ —ç—Å—Ç–µ—Ç–∏–∫–∞ –¥–∏–∑–∞–π–Ω–∞", "interior")
        ]
    },
    {
        "text": "4Ô∏è‚É£ –ö–∞–∫–æ–π –ø—Ä–µ–¥–º–µ—Ç –≤–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç?",
        "options": [
            ("–§–æ—Ç–æ–∫–∞–º–µ—Ä–∞ –∏–ª–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –º–µ–¥–∏–∞–ø—Ä–æ–¥—É–∫—Ç", "photo"),
            ("–ü–æ—è—Å –∏–ª–∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏", "fashion"),
            ("–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã", "sound"),
            ("–°–∫–µ—Ç—á–±—É–∫ —Å –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è–º–∏", "illustration"),
            ("3D-–ø—Ä–æ—Ç–æ—Ç–∏–ø –∏–ª–∏ –º–∞–∫–µ—Ç", "3d"),
            ("–ü–ª–∞–Ω –∏–ª–∏ –º–∞–∫–µ—Ç –ø–æ–º–µ—â–µ–Ω–∏—è/–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞", "space")
        ]
    },
    {
        "text": "5Ô∏è‚É£ –ß—Ç–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ –≤ —Ä–∞–±–æ—Ç–µ?",
        "options": [
            ("–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ —ç—Å—Ç–µ—Ç–∏–∫–∞", "branding"),
            ("–ß–µ—Ç–∫–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã", "ux"),
            ("–ú–∞—Ç–µ—Ä–∏–∞–ª –∏ –¥–µ—Ç–∞–ª–∏", "fashion"),
            ("–§–æ—Ä–º—ã –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ", "interior"),
            ("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–∑–¥–µ–ª–∏—è", "product"),
            ("–≠–º–æ—Ü–∏—è —á–µ—Ä–µ–∑ –∑–≤—É–∫ –∏–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–µ", "sound")
        ]
    },
    {
        "text": "6Ô∏è‚É£ –ß—Ç–æ –±—ã –≤—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –æ—Å–≤–æ–∏–ª–∏?",
        "options": [
            ("–†–∞–±–æ—Ç—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏", "illustration"),
            ("3D‚Äë—Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ VR/AR", "3d"),
            ("–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å", "ux"),
            ("–®–≤–µ–π–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "fashion"),
            ("–ó–≤—É–∫–æ—Ä–µ–∂–∏—Å—Å—É—Ä—É", "sound"),
            ("–ò–Ω—Ç–µ—Ä—å–µ—Ä–Ω—ã–π —á–µ—Ä—Ç—ë–∂", "space")
        ]
    },
    {
        "text": "7Ô∏è‚É£ –ö–∞–∫–æ–π –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω?",
        "options": [
            ("–í–∏–¥–µ–æ-–∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è —Å –º—É–∑—ã–∫–æ–π", "sound"),
            ("–ë—Ä–µ–Ω–¥ –∏ –ª–æ–≥–æ—Ç–∏–ø –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏", "branding"),
            ("–ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –°–ú–ò", "info"),
            ("3D-–º–æ–¥–µ–ª—å –ø—Ä–æ–¥—É–∫—Ç–∞", "3d"),
            ("–ö–∞—Ç–∞–ª–æ–≥ –º–µ–±–µ–ª–∏ –∏–ª–∏ –¥–µ–∫–æ—Ä–∞", "interior"),
            ("–ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–¥–µ–∂–¥—ã", "fashion")
        ]
    },
    {
        "text": "8Ô∏è‚É£ –í –∫–æ–º–∞–Ω–¥–µ –≤—ã –±—ã –±—ã–ª–∏...",
        "options": [
            ("–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–º –ª–∏–¥–µ—Ä–æ–º –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤", "art_direct"),
            ("–¢–µ—Ö–Ω–∏–∫–æ–º –∏–ª–∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º", "product"),
            ("–í—ñ–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º, –∞–≤—Ç–æ—Ä–æ–º –æ–±—Ä–∞–∑–æ–≤", "illustration"),
            ("UX/UI –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–º", "ux"),
            ("–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞", "space"),
            ("–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–º/–∑–≤—É–∫–æ–≤—ã–º –æ—Ñ–æ—Ä–º–∏—Ç–µ–ª–µ–º", "sound")
        ]
    },
    {
        "text": "9Ô∏è‚É£ –ö–∞–∫—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å?",
        "options": [
            ("–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—É—é –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—É—é", "digital"),
            ("–¢–µ–ø–ª—É—é –∏ —É—é—Ç–Ω—É—é —á–µ—Ä–µ–∑ –≤–µ—â–∏", "interior"),
            ("–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —á–µ—Ä–µ–∑ –∑–≤—É–∫ –∏–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–µ", "sound"),
            ("–ö—Ä–∞—Å–æ—á–Ω—É—é –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—É—é", "illustration"),
            ("–°—Ç–∏–ª—å–Ω—É—é —á–µ—Ä–µ–∑ –æ–¥–µ–∂–¥—É –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã", "fashion"),
            ("–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é –∏ –ø–æ–Ω—è—Ç–Ω—É—é", "info")
        ]
    },
    {
        "text": "üîü –ï—Å–ª–∏ —ç—Ç–æ –±—ã–ª –±—ã –≤–∞—à –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç, –≤—ã –±—ã —Å–¥–µ–ª–∞–ª–∏...",
        "options": [
            ("–ú–∏–Ω–∏-—Ñ–∏–ª—å–º –∏–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—é", "sound"),
            ("3D-–∫–æ–Ω—Ü–µ–ø—Ç –ø—Ä–æ–¥—É–∫—Ç–∞", "3d"),
            ("–ò–Ω—Ç–µ—Ä—å–µ—Ä –∏–ª–∏ –ª–∞–Ω–¥—à–∞—Ñ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞", "space"),
            ("–ò–ª–ª—é—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é", "illustration"),
            ("–ë—Ä–µ–Ω–¥–±—É–∫ –∏–ª–∏ –≤–∏–∑—É–∞–ª—å–Ω—É—é –∞–π–¥–µ–Ω—Ç–∏–∫—É", "branding"),
            ("–ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫—É –¥–ª—è —Å—Ç–∞—Ç—å–∏", "info")
        ]
    },
]

RECOMMENDATIONS = {
    "branding": {"title": "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω / –ê—Ä—Ç-–¥–∏—Ä–µ–∫—à–Ω", "courses": ["–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω. –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å", "–ê—Ä—Ç-–¥–∏—Ä–µ–∫—à–Ω"]},
    "illustration": {"title": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è / –ò—Å—Ç–æ—Ä–∏—è –∏—Å–∫—É—Å—Å—Ç–≤–∞", "courses": ["–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è: –æ—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –¥–æ –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π", "–ò—Å—Ç–æ—Ä–∏—è –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏ –¥–∏–∑–∞–π–Ω–∞"]},
    "fashion": {"title": "–î–∏–∑–∞–π–Ω –æ–¥–µ–∂–¥—ã / –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ", "courses": ["–î–∏–∑–∞–π–Ω –æ–¥–µ–∂–¥—ã. –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å", "–ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–µ–∂–¥—ã", "–§—ç—à–Ω-–∏–Ω–¥—É—Å—Ç—Ä–∏—è: –ü—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç"]},
    "interior": {"title": "–ò–Ω—Ç–µ—Ä—å–µ—Ä / –õ–∞–Ω–¥—à–∞—Ñ—Ç", "courses": ["–î–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞", "–õ–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω"]},
    "product": {"title": "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω", "courses": ["–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞"]},
    "3d": {"title": "3D-–≥—Ä–∞—Ñ–∏–∫–∞ / Unreal / –ì–µ–π–º–¥–∏–∑–∞–π–Ω", "courses": ["3D —Ö—É–¥–æ–∂–Ω–∏–∫", "–•—É–¥–æ–∂–Ω–∏–∫ –≤ Unreal Engine", "–ì–µ–π–º–¥–∏–∑–∞–π–Ω: –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å"]},
    "sound": {"title": "–°–∞—É–Ω–¥-–¥–∏–∑–∞–π–Ω –∏ –∞–Ω–∏–º–∞—Ü–∏—è", "courses": ["–°–∞—É–Ω–¥-–ø—Ä–æ–¥–∞–∫—à–Ω", "–ê–Ω–∏–º–∞—Ü–∏—è: –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å"]},
    "digital": {"title": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–∏–∑–∞–π–Ω / UX", "courses": ["–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–∏–∑–∞–π–Ω: –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å"]},
    "info": {"title": "–ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞", "courses": ["–û—Å–Ω–æ–≤—ã –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏"]},
    "ux": {"title": "UX / –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –¥–∏–∑–∞–π–Ω", "courses": ["–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–∏–∑–∞–π–Ω: –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å", "–ì–µ–π–º–¥–∏–∑–∞–π–Ω: –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å"]},
    "space": {"title": "–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω", "courses": ["–î–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞", "–õ–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω", "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞"]}
}

user_state = {}

ASKING = 1

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    uid = update.effective_user.id
    user_state[uid] = {"step": 0, "scores": {}}
    await update.message.reply_text("–ü—Ä–∏–≤–µ—Ç! –ù–∞—á–Ω—ë–º —Ç–µ—Å—Ç. –û—Ç–≤–µ—á–∞–π, –≤—ã–±–∏—Ä–∞—è –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç.")
    return await ask_question(update, context)

async def ask_question(update: Update, context: ContextTypes.DEFAULT_TYPE):
    uid = update.effective_user.id
    state = user_state[uid]
    step = state["step"]
    if step >= len(QUESTIONS):
        return await show_result(update, context)

    q = QUESTIONS[step]
    buttons = [[KeyboardButton(opt[0])] for opt in q["options"]]
    reply = ReplyKeyboardMarkup(buttons, one_time_keyboard=True, resize_keyboard=True)
    await update.message.reply_text(q["text"], reply_markup=reply)
    state["step"] += 1
    return ASKING

async def handle_answer(update: Update, context: ContextTypes.DEFAULT_TYPE):
    uid = update.effective_user.id
    state = user_state[uid]
    selected = update.message.text
    prev_step = state["step"] - 1
    q = QUESTIONS[prev_step]

    for text, tag in q["options"]:
        if text == selected:
            state["scores"][tag] = state["scores"].get(tag, 0) + 1
            break

    return await ask_question(update, context)

async def show_result(update: Update, context: ContextTypes.DEFAULT_TYPE):
    uid = update.effective_user.id
    scores = user_state[uid]["scores"]
    top = sorted(scores.items(), key=lambda x: -x[1])[:2]
    reply = "üéØ <b>–í–∞–º –ø–æ–¥—Ö–æ–¥—è—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</b>\n\n"
    for tag, _ in top:
        rec = RECOMMENDATIONS[tag]
        reply += f"<b>{rec['title']}</b>\n"
        for c in rec["courses"]:
            reply += f"‚Äî {c}\n"
        reply += "\n"
    await update.message.reply_text(reply, parse_mode="HTML")
    return ConversationHandler.END

async def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("–¢–µ—Å—Ç –æ—Ç–º–µ–Ω—ë–Ω. /start ‚Äî –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ.")
    return ConversationHandler.END

def main():
    import os
    TOKEN = os.getenv("TELEGRAM_TOKEN")
    app = Application.builder().token(TOKEN).build()

    conv = ConversationHandler(
        entry_points=[CommandHandler("start", start)],
        states={ASKING: [MessageHandler(filters.TEXT & ~filters.COMMAND, handle_answer)]},
        fallbacks=[CommandHandler("cancel", cancel)]
    )

    app.add_handler(conv)
    app.run_polling()

if __name__ == "__main__":
    main()
